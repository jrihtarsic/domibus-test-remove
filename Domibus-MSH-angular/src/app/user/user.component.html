<!--<app-row-limiter [pageSizes]="pageSizes" (onPageSizeChanged)="changePageSize($event)" id="pagesize_id"></app-row-limiter>-->

<ngx-datatable
  id="userTable"
  class="material striped"
  [rows]="users"
  [columnMode]="'force'"
  [headerHeight]="50"
  [footerHeight]="50"
  [rowHeight]="'auto'"
  [scrollbarH]="true"
  [loadingIndicator]="false"
  [limit]="pageSize"
  [sorts]="[{prop: 'timestamp', dir: 'desc'}]"
  (activate)="onActivate($event)"
  (select)="onSelect($event)">
  <ngx-datatable-column name="Username" prop="userName" [canAutoResize]="true">
    <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
    <span
      title="Double click to edit"
      (dblclick)="editing[row.$$index + '-userName'] = true"
      *ngIf="!editing[row.$$index + '-userName']">
                {{value}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </span>
      <input
        autofocus
        (blur)="updateValue($event, 'userName', row)"
        *ngIf="editing[row.$$index + '-userName']"
        type="text"
        [value]="value"
      />
    </ng-template>

  </ngx-datatable-column>
  <ngx-datatable-column name="Email" prop="email" [canAutoResize]="true">
    <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
    <span
      title="Double click to edit"
      (dblclick)="editing[row.$$index + '-email'] = true"
      *ngIf="!editing[row.$$index + '-email']">
                {{value}}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
              </span>
      <input
        (blur)="updateEmail($event, row)"
        *ngIf="editing[row.$$index + '-email']"
        type="text"
        [value]="value"
      />
    </ng-template>ngx-datatable-column>
  </ngx-datatable-column>
  <ngx-datatable-column name="Password" prop="password" [canAutoResize]="true">
    <ng-template let-column="column">
      {{column.name}}
    </ng-template>
    <ng-template let-value="value" ngx-datatable-cell-template>
      <span class="text-select">{{value}}</span>
    </ng-template>
  </ngx-datatable-column>
  <ngx-datatable-column name="Active" prop="active" [canAutoResize]="true">
    <ng-template let-column="column">
      {{column.name}}
    </ng-template>
    <ng-template let-value="value" ngx-datatable-cell-template>
      <span class="text-select">{{value}}</span>
    </ng-template>
  </ngx-datatable-column>


</ngx-datatable>


<div style="margin-top: 10px">
  <button id="userCancelButton" md-raised-button (click)="cancel()" color="primary" [disabled]="userCancelButtonDisabled">
    <md-icon>cancel</md-icon>
    <span>Cancel</span>
  </button>
  <button id="userSaveButton" md-raised-button color="primary" [disabled]="userSaveButtonDisabled">
    <md-icon>save</md-icon>
    <span>Save</span>
  </button>
  <button id="userNewButton" md-raised-button (click)="newUser()" color="primary" [disabled]="userNewButtonDisabled">
    <md-icon>move_to_inbox</md-icon>
    <span>New</span>
  </button>
  <button id="userDeleteButton" md-raised-button color="primary" [disabled]="true">
    <md-icon>delete</md-icon>
    <span>Delete</span>
  </button>
</div>



